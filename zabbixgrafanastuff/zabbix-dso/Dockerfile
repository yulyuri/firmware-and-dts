FROM zabbix/zabbix-appliance:alpine-latest

# Decode and install DSOCA50 certificate
RUN mkdir -p /usr/local/share/ca-certificates
RUN echo "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlFNXpDQ0FzK2dBd0lCQWdJUVl5T1JhZU0rSzdrL1k4SWRIWHJJVGpBTkJna3Foa2lHOXcwQkFRc0ZBREFTDQpNUkF3RGdZRFZRUURFd2RFVTA5RFFUVXdNQjRYRFRJeU1EUXlNVEF6TlRVeE9Wb1hEVFF5TURReU1UQXpOVFV4DQpPVm93RWpFUU1BNEdBMVVFQXhNSFJGTlBRMEUxTURDQ0FpSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnSVBBRENDDQpBZ29DZ2dJQkFNK1pCR0l5YnJ1WVgzMytKcENmSTJKdVN4UlpOczhaZzhrT0d2anQwWUdKZDNDbE5IaEVUdzgxDQo5ZFNwQ3dpRDNPN2VoQVE1d1pRay9RSG83MmU2cXA5QVZHK3E4d01QQThjZERDV0dnU1NMNHRNZDFjeThNMDB5DQpxWko5cEpab2FvUTdLU1JpdEhXYmMxdUhhMTlwYU5NUEVPSUI2Y0NwS01QY2dIejUrQkFLaTNtVmYrbU40TVdJDQpKWXk0VFl4MmJzSklNOVA4SFR2VkoybzRzWExPYzNUaWFkVWlYV2VJNWtOdVR4MmhFTWQ0SHlIb1BsL1ZzVGJCDQpSd2ZIS3pIR254TkE2Y3EvSEJ6b0VVd0srLzhHbUFuQ2ttWG1OMTRQSURZOUNUWWJibng0Q1VOanRuUWZoZTU1DQpuYVNTbzBxL21nYk5IWjFTMElpUXNDeTAzd2tDcEc3M1ZWYmxlcWpXZVlyVC9TOXhtSEFNMkxac1IzWWtoeE0xDQpja25GT1dBeDBwbTJKb2tJM3l4dXdkb1dNY0tPTDBWQVBRSS9MTGJ5VTV6eWlmQlJyOXZta2crYVp4UTBCbjdvDQpqbGpMSk5sNFdyNzhwbFkwLzNDZU5XZ3pUc09CckpyZzRhTVl5UzZQNU9xVks0VTRNKzhQdFo3aTJsdEtNSHFRDQo3QlJNcVhVV0JCNkVQM2lWMFllSkF6ZTZXMjJzRXlIK0ZzTmhxVld6eUt3Y0tiZmFoYWZ0RHRJNjYydWNsZmRZDQphMGdlWG03UFc4MDd0U0lCOUxPMzEzMGNDRGdITWMxcVJ5RDEzYmF5ZU5UajliY3c0L2pCVjZlWWs1RnpGUmVPDQoyb1RiRERUOG5KYWswT1VnQzduVHZGK3FzQ2FGN09ieXV2amJnWkZKY3FRZUpLMGxMVFlCQWdNQkFBR2pPVEEzDQpNQklHQTFVZEV3RUIvd1FJTUFZQkFmOENBUU13RVFZRFZSME9CQW9FQ0U3Qm9mTFYrVmJLTUE0R0ExVWREd0VCDQovd1FFQXdJQkJqQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUFDaVBPc2pnYXh3dVNlSTZsQnpRdXdvMFlIbVBDDQpVak9ZOTF0Z0NqSmNSS0dWMGZSTVM5cXZPVXVCd3NwMWR5Ymp2K3BjYy9KQTF6Z0NwK3B4SWo1RmpORG50UnVwDQpmdUxrOFhYa1RlT0o5VXV4Z3psdi9XOWcxV1dZT2JXUHAxQWxRSlpWdXdKTVM1RkswMDM1QmNEcnVRNDJwdTlUDQpwNnBrSlhsUnBPRC92eUx6YWZMQ3JhQ2wzTVd1YnMwaGNHTXAzWndySk9IMk8vcXBhOEQraFJLRG5qWVBlRW1GDQpCS1NROTAwMDVrMkpSM3hnZTV6MXZNcXdGemhkc2o1Z2g2OUNPamc1MStGc09uK01PQmtkQ3JwNjM4QzBEd3RSDQpwaHFlZHl3N1ZLYjBtUnB3ZlUwNkduVVlpalljMUE1Yk5NQkdubGsyN0NtQW5OVHhBb3d2YmVMaVA1cTNWanc0DQpPV0dBMU1DNXpzMXVOVldFQkZWSWJpakswd24wK1NtT1A0K2pqclpMc25WTUlCaVJUY2pNZXdDTU5YaVAyQXFtDQpON2dtMlF1SzBJUU1XQzN2Z2ljZzBKRG0wWVYxaklSS1E0MVBadVA5ZFIvY2gxckJtWUdaYUtCNFNuV2U0QTduDQpJOWNianlPQTdXOWhCWkppOEJWTnpTK1VJN1YrMjVyMFdpcXIxcW9VNG0zb3NGN2NPYm14M2FHekNUWnUwL2VrDQpPWjZmQ1dlbmlVTUloUUFHcEdCQ2RFTnpjWTVQMkJSd1k2R3BYbW5lLzJTRjF0SVdIUm5kMXdOakF5OFBGV0ZmDQo5cVg1SWR0bEJLYW8rd2tRU3F6WXN5YzlmRDlnaDdpbnR2OXFERlJMdzZGaW1TWkJUTGJkS0V2SGFQd1kxbW9GDQpXaUZ5MEwwc2RNVnJjRm89DQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tDQo=" | base64 -d > /usr/local/share/ca-certificates/DSOCA50.crt

# Decode and install DSOCA60 certificate
RUN echo "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlIUXpDQ0JTdWdBd0lCQWdJUVhvL3hxa1ZOaGc4eGs1bTVid0c5ckRBTkJna3Foa2lHOXcwQkFRc0ZBREFTDQpNUkF3RGdZRFZRUURFd2RFVTA5RFFUVXdNQjRYRFRJeU1EUXlPVEF5TVRVd01Wb1hEVE15TURReU9UQXlNVFV3DQpNVm93RWpFUU1BNEdBMVVFQXhNSFJGTlBRMEUyTURDQ0FpSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnSVBBRENDDQpBZ29DZ2dJQkFMS09XWlVZNDUrYjZxRTEvY2RTN0RFbHlSVnpiT0N5R3VNSnEydlRXaDFrL0RaUXFCdmJsMGdZDQo2ODVTZXErcVNwQ2Z2RUlvM2xPWUt0aUNBRzAxR0VlUk9nalppd2t2bWJURHQvcW9nOVFpaWJNcEdmYlNwSjdaDQpjNXM3VjNrWFlrY0pQYnFWUDhnVFlreURYek1MYUY1NjByR3ZBU3BWN3FadXJpVWMwK3YwV1ljd2RMWkUzbWh5DQpNcExaQzRHTUhEZzBBTHJDMFhFVHliaGZiQnl4R3JyTzJqVG9oWmFERk44OU9KKzlURzhtK3UvYVYwdHNVNVRsDQpYSmcxUk5haEtyVXJlM25ZN1RYMGFHYUc2dlFnbXFOeFF5cHZZKzRySzg1Ukc2ZjNXMTVIQWNnZ2szTW4wbWczDQpEM2c3TzJldng4Rkp6Wm1BYVMrV0I2aGp4bEdCSFljY0R2QStUQXZPY0REYlM2L3NuRCtBNnErd1dBNnhhaWpLDQpMR2JHa2NPeFl5VTl2MzEyTXdTNGFQVTF2YjhRcWczT1NyeW54d2FxR1pFRE8vK0NFQTM1MXJjczNzQ2lHZTE1DQp3anZUV3gxQkt3RGhJbGJOVFk3cVVNRTUyU2tJZThpMXhtN3Q5bHlUb0tJVHg1SWtYVVpLTnh4M1lNK0ZMeHpODQpoOVM1MU5Md1N6RXNGT0tEWTI1Ri9Xa2U3TTV6dTNqdVNuUk9XTlRWUStKS01aRDZPTTErRjlndC9EcHRLMUIzDQp2aHZQMlZ6b3ZvaEVuMmk0TGFlOTNlTU1UaXdBSU9WSGVjOVVCQXk5ci9jQ2J1SUlhOW5yMEtsMWhnSVE2a0RGDQpONG4vOHNmTmtzZ1ZXTStjUlVEaVBCSjRvVTluS0o2VDhJaVoybytuSzFQbStLa1dFa2NGQWdNQkFBR2pnZ0tUDQpNSUlDanpBU0JnTlZIUk1CQWY4RUNEQUdBUUgvQWdFQU1CRUdBMVVkRGdRS0JBaE16dnJyaWxKM216QVRCZ05WDQpIU01FRERBS2dBaE93YUh5MWZsV3lqQ0NBU0FHQ0NzR0FRVUZCd0VCQklJQkVqQ0NBUTR3ZkFZSUt3WUJCUVVIDQpNQUtHY0d4a1lYQTZMeTh2WTI0OVJGTlBRMEUxTUN4amJqMUJTVUVzWTI0OVVGVkNURWxESUV0RldTQlRSVkpXDQpTVU5GVXl4amJqMVRSVkpXU1VORlV5eGpiajFEVDA1R1NVZFZVa0ZVU1U5T0xHUmpQV052Y25Bc1pHTTlVazlQDQpWRDlqUVVObGNuUnBabWxqWVhSbFAySmhjMlV3TVFZSUt3WUJCUVVITUFLR0pXaDBkSEE2THk5M1pXSXVaSE52DQpMbTl5Wnk1elp5OUJTVUV2UkZOUFEwRTFNQzVqY25Rd1d3WUlLd1lCQlFVSE1BS0dUMnhrWVhBNkx5OXNaR0Z3DQpMbVJ6Ynk1dmNtY3VjMmN2WTI0OVJGTlBRMEUxTUN4dmRUMUJTVUVzWkdNOVJGTlBMR1JqUFU5U1J5eGtZejFUDQpSejlqUVVObGNuUnBabWxqWVhSbFAySmhjMlV3RGdZRFZSMFBBUUgvQkFRREFnRUdNSUlCR3dZRFZSMGZCSUlCDQpFakNDQVE0d2dnRUtvSUlCQnFDQ0FRS0dmR3hrWVhBNkx5OHZZMjQ5UkZOUFEwRTFNQ3hqYmoxRFJGQXNZMjQ5DQpVRlZDVEVsRElFdEZXU0JUUlZKV1NVTkZVeXhqYmoxVFJWSldTVU5GVXl4amJqMURUMDVHU1VkVlVrRlVTVTlPDQpMR1JqUFdOdmNuQXNaR005VWs5UFZEOWpaWEowYVdacFkyRjBaVkpsZG05allYUnBiMjVNYVhOMFAySmhjMldHDQpKV2gwZEhBNkx5OTNaV0l1WkhOdkxtOXlaeTV6Wnk5RFJGQXZSRk5QUTBFMU1DNWpjbXlHVzJ4a1lYQTZMeTlzDQpaR0Z3TG1SemJ5NXZjbWN1YzJjdlkyNDlSRk5QUTBFMU1DeHZkVDFEUkZBc1pHTTlSRk5QTEdSalBVOVNSeXhrDQpZejFUUno5alpYSjBhV1pwWTJGMFpWSmxkbTlqWVhScGIyNU1hWE4wUDJKaGMyVXdEUVlKS29aSWh2Y05BUUVMDQpCUUFEZ2dJQkFHTC9zb2VLbWVQdVdVdVBlalFiUGdha1U1MDlWcDA2VUc2TDJyeXd3UmVNbVIxSVhKWmUwYVUyDQplZndRQlNEazlyNXhXNnkxR0g4T3NrNmxxaVVwa0U4dmZmV3VQdGxxa3pIeFhZTWFxcm5nSkdpYm95M2ViaTF2DQp0VjdvK09PYWNnUVdUVWF1OFJEaVlUYjVORnhYUGcrMjlsZWtsMHBodVZOZUFVeExsNnQvUFRpbXVKRUlZZXNrDQpma1ArZlJJcXBSMzk0aGF6SDZleTBrN0lGTkRabFQvQzZsMmlIWkJyYTNPWXFUbnZSMUNCTTNlZDN6bkZLeDlCDQpMSmM4amYzRSszRW1pZXk3a2dmaEhBUE1CcU9lZFd5NmlaVVJqNGVtNmhyRWE1Nlpjd3BpbUowamlMOTRnYTJjDQpSMGZhNzdqTDJzaXhsUm4va3pNRngyWVpHeXpBVlpmU0lpanduY2l6cUwyQTJ2bVF2OUZrOGRvK0VyRi9uTHVvDQphVU0zS2Fxb0dzbE9CU1JIcTczSTFIcGpHME53WE5kUzFITG9EclU3eE0xaTFhRE14OC9DOW9GWmRWYXpiRVhUDQo0MjZ2VEJHbmQvVnUxK1JCMmRGT25oZXFDQkxCaTN6YVJpeXdrQTA5Y1d2enAwTlNBWTY1a0REUVVhS3l6UDc1DQp2NnhxV2N6a2lUUnJqbHY2T3RDYWtJSlpsM1V0Q2xVM2pHV3l4a3MrWTk1ZDNxM3dhdmZIcUFkcEtOcHhCd1I5DQpSVHpsRTVOQldlTEVNNFJvQ3FmclJWaXJjY3lPWUlRMXBlWEFtdXoraXZvVUdEOVU4MVV3VU5TbjhKUzN4RzRJDQpjMVphMVVqTUtJdGw0eDhnY3hYdkRkWkJxUThBSE56WE1FL1RvS3lYUDB5RFFqVUR3WWtLDQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tDQo=" | base64 -d > /usr/local/share/ca-certificates/DSOCA60.crt

# Update the Alpine trust store
RUN apk --no-cache add ca-certificates && update-ca-certificates

# Expose Zabbix port
EXPOSE 8080
